# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–∂–µ –≥–æ—Ç–æ–≤–∞!

‚úÖ **Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –∏ Telegram –±–æ—Ç
‚úÖ **31,000+ —Å—Ç–∏—Ö–æ–≤** - –≤—Å–µ –±–∏–±–ª–µ–π—Å–∫–∏–µ —Ç–µ–∫—Å—Ç—ã —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –∑–∞–∫–ª–∞–¥–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É –±–æ—Ç–æ–º –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

**–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ë–î –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!**

### 2. üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

#### OpenRouter API:
```kotlin
// –í NetworkModule.kt –∑–∞–º–µ–Ω–∏—Ç–µ:
.addHeader("Authorization", "Bearer YOUR_OPENROUTER_API_KEY")

// –ù–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á:
.addHeader("Authorization", "Bearer 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")
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: API –∫–ª—é—á —É–∂–µ –µ—Å—Ç—å –≤ –≤–∞—à–µ–º .env —Ñ–∞–π–ª–µ –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

### üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å–±–æ—Ä–∫–∏

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:

1. **–ü—Ä–æ–±–ª–µ–º—ã —Å Gradle**:
   ```bash
   # –í –ø–∞–ø–∫–µ android –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ./gradlew clean
   ./gradlew build
   ```

2. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏**:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Android SDK
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—É—Ç—å –∫ SDK —É–∫–∞–∑–∞–Ω –≤ `local.properties`
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Android Studio (Sync Project)

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏**:
   - –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–ª–∞–≥–∏–Ω—ã —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `build.gradle.kts`
   - –í–µ—Ä—Å–∏–∏ Kotlin –∏ Android Gradle Plugin —Å–æ–≤–º–µ—Å—Ç–∏–º—ã

### 3. üì± –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤

#### –ü–æ–∏—Å–∫ —Å—Ç–∏—Ö–æ–≤:
```kotlin
// –°–æ–∑–¥–∞–π—Ç–µ SearchScreen.kt
@Composable
fun SearchScreen() {
    var searchQuery by remember { mutableStateOf("") }
    var searchResults by remember { mutableStateOf<List<Verse>>(emptyList()) }
    
    Column {
        SearchBar(
            query = searchQuery,
            onQueryChange = { searchQuery = it },
            onSearch = { /* –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫ */ }
        )
        
        LazyColumn {
            items(searchResults) { verse ->
                VerseSearchResult(verse = verse)
            }
        }
    }
}
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
```kotlin
// –°–æ–∑–¥–∞–π—Ç–µ SettingsScreen.kt
@Composable
fun SettingsScreen() {
    Column {
        SettingItem(
            title = "–ü–µ—Ä–µ–≤–æ–¥ –ë–∏–±–ª–∏–∏",
            subtitle = "–†—É—Å—Å–∫–∏–π –°–∏–Ω–æ–¥–∞–ª—å–Ω—ã–π",
            onClick = { /* –æ—Ç–∫—Ä—ã—Ç—å –≤—ã–±–æ—Ä –ø–µ—Ä–µ–≤–æ–¥–∞ */ }
        )
        
        SettingItem(
            title = "–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è",
            subtitle = "–°–∏—Å—Ç–µ–º–Ω–∞—è",
            onClick = { /* –æ—Ç–∫—Ä—ã—Ç—å –≤—ã–±–æ—Ä —Ç–µ–º—ã */ }
        )
    }
}
```

### 4. üîç –£–ª—É—á—à–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞ –±–∏–±–ª–µ–π—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫

```kotlin
// –†–∞—Å—à–∏—Ä—å—Ç–µ BibleReferenceParser.kt
object BibleReferenceParser {
    // –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–ª–æ–∂–Ω—ã—Ö —Å—Å—ã–ª–æ–∫:
    // "–ú—Ñ 5:3-12" - –¥–∏–∞–ø–∞–∑–æ–Ω —Å—Ç–∏—Ö–æ–≤
    // "–ú—Ñ 5:3,7,12" - –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∏—Ö–∏
    // "–ú—Ñ 5:3-12; –õ–∫ 6:20-23" - –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
    
    fun parseComplex(reference: String): List<ParsedReference> {
        // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ–∂–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
    }
}
```

### 5. ü§ñ –£–ª—É—á—à–µ–Ω–∏–µ –ò–ò –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### –î–æ–±–∞–≤—å—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤:
```kotlin
@Entity(tableName = "ai_cache")
data class AICache(
    @PrimaryKey val versesHash: String,
    val explanation: String,
    val createdAt: Long
)

class AIRepository {
    suspend fun explainVerses(verses: List<Verse>): String {
        val hash = verses.hashCode().toString()
        
        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à
        val cached = aiCacheDao.getByHash(hash)
        if (cached != null && !isExpired(cached.createdAt)) {
            return cached.explanation
        }
        
        // –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ
        val explanation = openRouterAPI.generateExplanation(...)
        
        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫—ç—à
        aiCacheDao.insert(AICache(hash, explanation, System.currentTimeMillis()))
        
        return explanation
    }
}
```

### 6. üìö –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤ —á—Ç–µ–Ω–∏—è

```kotlin
@Entity(tableName = "reading_plans")
data class ReadingPlan(
    @PrimaryKey val id: Int,
    val name: String,
    val description: String,
    val durationDays: Int,
    val planData: String // JSON —Å –ø–ª–∞–Ω–æ–º
)

@Entity(tableName = "user_progress")
data class UserProgress(
    @PrimaryKey(autoGenerate = true) val id: Long = 0,
    val planId: Int,
    val currentDay: Int,
    val completedDays: List<Int>,
    val startedAt: Long
)
```

### 7. üé® –£–ª—É—á—à–µ–Ω–∏–µ UI/UX

#### –î–æ–±–∞–≤—å—Ç–µ –∞–Ω–∏–º–∞—Ü–∏–∏:
```kotlin
@Composable
fun AnimatedVerseCard(verse: Verse) {
    var expanded by remember { mutableStateOf(false) }
    
    AnimatedVisibility(
        visible = expanded,
        enter = expandVertically() + fadeIn(),
        exit = shrinkVertically() + fadeOut()
    ) {
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–∏—Ö–µ
    }
}
```

#### –î–æ–±–∞–≤—å—Ç–µ –∂–µ—Å—Ç—ã:
```kotlin
@Composable
fun SwipeableVerseCard(
    verse: Verse,
    onBookmark: () -> Unit,
    onShare: () -> Unit
) {
    val swipeState = rememberSwipeToDismissBoxState()
    
    SwipeToDismissBox(
        state = swipeState,
        backgroundContent = {
            // –§–æ–Ω —Å –∏–∫–æ–Ω–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π
        }
    ) {
        VerseCard(verse = verse)
    }
}
```

### 8. üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

```kotlin
// –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–∏–º Supabase
class SyncRepository @Inject constructor(
    private val supabaseClient: SupabaseClient,
    private val localDatabase: BibleDatabase
) {
    suspend fun syncBookmarks() {
        // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–∫–ª–∞–¥–æ–∫ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
        val localBookmarks = localDatabase.bookmarkDao().getAllBookmarks()
        val serverBookmarks = supabaseClient.getBookmarks()
        
        // –õ–æ–≥–∏–∫–∞ —Å–ª–∏—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
    }
}
```

### 9. üìä –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

```kotlin
// –î–æ–±–∞–≤—å—Ç–µ Firebase Analytics –∏–ª–∏ –¥—Ä—É–≥—É—é —Å–∏—Å—Ç–µ–º—É
class AnalyticsManager @Inject constructor() {
    fun trackVerseRead(bookId: Int, chapter: Int) {
        // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —á—Ç–µ–Ω–∏—è —Å—Ç–∏—Ö–æ–≤
    }
    
    fun trackAIUsage(versesCount: Int) {
        // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ò–ò
    }
}
```

### 10. üß™ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

#### Unit —Ç–µ—Å—Ç—ã:
```kotlin
// test/java/com/bibleapp/viewmodel/ReadingViewModelTest.kt
@Test
fun `loadChapter should update verses state`() = runTest {
    // Arrange
    val mockRepository = mockk<BibleRepository>()
    val expectedVerses = listOf(/* test verses */)
    coEvery { mockRepository.getChapter(1, 1) } returns expectedVerses
    
    val viewModel = ReadingViewModel(mockRepository, mockk(), mockk())
    
    // Act
    viewModel.loadChapter(1, 1)
    
    // Assert
    assertEquals(expectedVerses, viewModel.verses.value)
}
```

#### UI —Ç–µ—Å—Ç—ã:
```kotlin
// androidTest/java/com/bibleapp/ui/BooksScreenTest.kt
@Test
fun booksScreen_displaysBooksList() {
    composeTestRule.setContent {
        BooksScreen(onBookSelected = {})
    }
    
    composeTestRule.onNodeWithText("–ö–Ω–∏–≥–∏ –ë–∏–±–ª–∏–∏").assertIsDisplayed()
}
```

## üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 1. –û—Ç–ª–∞–¥–∫–∞
```kotlin
// –î–æ–±–∞–≤—å—Ç–µ –≤ build.gradle.kts –¥–ª—è debug —Å–±–æ—Ä–∫–∏
android {
    buildTypes {
        debug {
            isDebuggable = true
            applicationIdSuffix = ".debug"
            versionNameSuffix = "-DEBUG"
        }
    }
}
```

### 2. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Android Studio Profiler –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –î–æ–±–∞–≤—å—Ç–µ LeakCanary –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

### 3. –õ–∏–Ω—Ç–∏–Ω–≥
```kotlin
// –î–æ–±–∞–≤—å—Ç–µ –≤ build.gradle.kts
android {
    lint {
        warningsAsErrors = true
        abortOnError = true
    }
}
```

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### 1. –≠–º—É–ª—è—Ç–æ—Ä—ã
- –°–æ–∑–¥–∞–π—Ç–µ AVD —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ —ç–∫—Ä–∞–Ω–æ–≤
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ Android 7.0+ (API 24+)

### 2. –§–∏–∑–∏—á–µ—Å–∫–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –í–∫–ª—é—á–∏—Ç–µ Developer Options
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ USB Debugging

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–µ–ª–∏–∑—É
```kotlin
// –ù–∞—Å—Ç—Ä–æ–π—Ç–µ signing –≤ build.gradle.kts
android {
    signingConfigs {
        create("release") {
            storeFile = file("../keystore/release.keystore")
            storePassword = "your_store_password"
            keyAlias = "your_key_alias"
            keyPassword = "your_key_password"
        }
    }
    
    buildTypes {
        release {
            signingConfig = signingConfigs.getByName("release")
            isMinifyEnabled = true
            proguardFiles(getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro")
        }
    }
}
```

### 2. Google Play Store
1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
2. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ APK/AAB —Ñ–∞–π–ª

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 1. Crashlytics
```kotlin
// –î–æ–±–∞–≤—å—Ç–µ Firebase Crashlytics
implementation 'com.google.firebase:firebase-crashlytics-ktx'
```

### 2. Performance Monitoring
```kotlin
// –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
val trace = FirebasePerformance.getInstance().newTrace("bible_chapter_load")
trace.start()
// ... –∑–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤—ã
trace.stop()
```

## üéØ Roadmap

### –í–µ—Ä—Å–∏—è 1.1
- [ ] –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä —Å—Å—ã–ª–æ–∫

### –í–µ—Ä—Å–∏—è 1.2
- [ ] –ü–ª–∞–Ω—ã —á—Ç–µ–Ω–∏—è
- [ ] –ë–∏–±–ª–µ–π—Å–∫–∏–µ —Ç–µ–º—ã
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –æ–±–ª–∞–∫–æ–º

### –í–µ—Ä—Å–∏—è 1.3
- [ ] –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å—Ç–∏—Ö–∞–º
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–ª–∞–¥–æ–∫

---

**–í–∞–∂–Ω–æ**: –†–µ–≥—É–ª—è—Ä–Ω–æ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –∏ –≤–µ—Ä—Å–∏—è—Ö Android. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ Android SDK.