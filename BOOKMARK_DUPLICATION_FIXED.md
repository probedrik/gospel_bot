# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï –ö–ù–û–ü–û–ö –ó–ê–ö–õ–ê–î–û–ö

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞

**–ë—ã–ª–æ**: –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ò–ò-—Ä–∞–∑–±–æ—Ä–∞ —Å—Ç–∏—Ö–∞ –ø–æ—è–≤–ª—è–ª–æ—Å—å 2 –∫–Ω–æ–ø–∫–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∑–∞–∫–ª–∞–¥–∫–∏"
**–°—Ç–∞–ª–æ**: ‚úÖ –¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∑–∞–∫–ª–∞–¥–∫–∏

## üîç –ò—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ–±–ª–µ–º—ã

–í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `gpt_explain_callback` (handlers/text_messages.py) –∫–Ω–æ–ø–∫–∞ –∑–∞–∫–ª–∞–¥–∫–∏ —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å –¥–≤–∞–∂–¥—ã:

1. **–í `create_chapter_action_buttons()`** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Å—Ç–∏—Ö–æ–≤
2. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤—Ä—É—á–Ω—É—é** - –¥—É–±–ª–∏—Ä—É—é—â–∞—è –∫–Ω–æ–ø–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 1345-1360)

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å—Ç–∏—Ö–æ–≤ –≤ create_chapter_action_buttons

**–ë—ã–ª–æ:**
```python
action_buttons = await create_chapter_action_buttons(
    book_id, chapter, book, exclude_ai=True, user_id=callback.from_user.id
)
```

**–°—Ç–∞–ª–æ:**
```python
action_buttons = await create_chapter_action_buttons(
    book_id, chapter, book, exclude_ai=True, user_id=callback.from_user.id,
    verse_start=verse_start_num, verse_end=verse_end_num  # ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ!
)
```

### 2. –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫–ª–∞–¥–∫–∏

**–ë—ã–ª–æ:**
```python
# –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∑–∞–∫–ª–∞–¥–∫–∏ –¥–ª—è —Å—Ç–∏—Ö–∞
from utils.bookmark_utils import create_bookmark_button
from handlers.bookmark_handlers import check_if_bookmarked

is_verse_bookmarked = await check_if_bookmarked(
    user_id, book_id, chapter, None, verse_start_num, verse_end_num
)

bookmark_button = create_bookmark_button(
    book_id=book_id,
    chapter_start=chapter,
    verse_start=verse_start_num,
    verse_end=verse_end_num,
    is_bookmarked=is_verse_bookmarked
)

all_buttons.append([bookmark_button])
```

**–°—Ç–∞–ª–æ:**
```python
# –ö–Ω–æ–ø–∫–∞ –∑–∞–∫–ª–∞–¥–∫–∏ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ create_chapter_action_buttons
# –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ü—Ä–∏—Ç—á–∏ 3:5-6 ‚Üí –ò–ò-—Ä–∞–∑–±–æ—Ä

1. **–í–≤–æ–¥**: `–ü—Ä–∏—Ç—á–∏ 3:5-6`
2. **–ù–∞–∂–∞—Ç–∏–µ**: "ü§ñ –†–∞–∑–±–æ—Ä –æ—Ç –ò–ò"
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
   - ‚úÖ –û–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üìñ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∑–∞–∫–ª–∞–¥–∫–∏"
   - ‚úÖ –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏: "–ü—Ä–∏—Ç—á–∏ 3:5-6" (–¥–∏–∞–ø–∞–∑–æ–Ω —Å—Ç–∏—Ö–æ–≤)
   - ‚úÖ –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤—Å—è –≥–ª–∞–≤–∞ 3

### –î—Ä—É–≥–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

| –í–≤–æ–¥ | –ò–ò-—Ä–∞–∑–±–æ—Ä | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è |
|------|-----------|-------------|
| `–ü—Å 22:4` | ‚úÖ 1 –∫–Ω–æ–ø–∫–∞ | –ü—Å–∞–ª–æ–º 22:4 |
| `–ò–Ω 3:16` | ‚úÖ 1 –∫–Ω–æ–ø–∫–∞ | –ò–æ–∞–Ω–Ω–∞ 3:16 |
| `–ú—Ñ 5:3-12` | ‚úÖ 1 –∫–Ω–æ–ø–∫–∞ | –ú–∞—Ç—Ñ–µ—è 5:3-12 |

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### handlers/text_messages.py
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `gpt_explain_callback()` - —É–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å—Ç–∏—Ö–æ–≤ –≤ `create_chapter_action_buttons()`

### utils/bible_data.py
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `create_chapter_action_buttons()` —É–∂–µ –±—ã–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Ä–∞–Ω–µ–µ
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `verse_start` –∏ `verse_end`

## üéÆ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫** - —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∑–∞–∫–ª–∞–¥–∫–∏
- **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - —Å—Ç–∏—Ö–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ—á–Ω–æ, –Ω–µ —Ü–µ–ª—ã–º–∏ –≥–ª–∞–≤–∞–º–∏
- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é

### üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç–∏—Ö: `–ü—Ä–∏—Ç—á–∏ 3:5-6`
2. –ù–∞–∂–∏–º–∞–µ—Ç "ü§ñ –†–∞–∑–±–æ—Ä –æ—Ç –ò–ò"
3. `create_chapter_action_buttons()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å `verse_start=5, verse_end=6`
4. –°–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∑–∞–∫–ª–∞–¥–∫–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
5. –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏: –∑–∞–∫–ª–∞–¥–∫–∞ "–ü—Ä–∏—Ç—á–∏ 3:5-6"

## üöÄ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û ‚úÖ

–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∑–∞–∫–ª–∞–¥–æ–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∏—Ö–∏
- ‚úÖ –î–∏–∞–ø–∞–∑–æ–Ω—ã —Å—Ç–∏—Ö–æ–≤  
- ‚úÖ –¶–µ–ª—ã–µ –≥–ª–∞–≤—ã
- ‚úÖ –ò–ò-—Ä–∞–∑–±–æ—Ä
- ‚úÖ –¢–æ–ª–∫–æ–≤–∞–Ω–∏—è –õ–æ–ø—É—Ö–∏–Ω–∞