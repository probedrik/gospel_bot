# –ë–∏–±–ª–µ–π—Å–∫–∏–π –±–æ—Ç - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä
–ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—Å—Ç–∞–º –ë–∏–±–ª–∏–∏ —á–µ—Ä–µ–∑ Telegram. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –∫–Ω–∏–≥–∏ –∏ –≥–ª–∞–≤—ã, —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∑–∞–∫–ª–∞–¥–∫–∏, –∏—Å–∫–∞—Ç—å —Å—Ç–∏—Ö–∏ –ø–æ —Å—Å—ã–ª–∫–∞–º, –ø–æ–ª—É—á–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ —Å—Ç–∏—Ö–∏ –∏ –º–µ–Ω—è—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –ë–∏–±–ª–∏–∏.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
‚îú‚îÄ‚îÄ bot.py                # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ bot_new.py            # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞ (–º–æ–Ω–æ–ª–∏—Ç–Ω–∞—è)
‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ settings.py       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ handlers/             # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ callbacks.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–ª–±—ç–∫–æ–≤ –æ—Ç –∫–Ω–æ–ø–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ commands.py       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ text_messages.py  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ bookmarks.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–∫–ª–∞–¥–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ bookmark_callbacks.py # –ö–æ–ª–±—ç–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–ª–∞–¥–∫–∞–º–∏
‚îú‚îÄ‚îÄ keyboards/            # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã 
‚îÇ   ‚îî‚îÄ‚îÄ main.py           # –ö–Ω–æ–ø–∫–∏ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îú‚îÄ‚îÄ middleware/           # –ú–∏–¥–ª–≤–∞—Ä–∏
‚îÇ   ‚îî‚îÄ‚îÄ state.py          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îî‚îÄ‚îÄ utils/                # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
    ‚îú‚îÄ‚îÄ api_client.py     # –ö–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –ë–∏–±–ª–∏–∏
    ‚îú‚îÄ‚îÄ bible_data.py     # –î–∞–Ω–Ω—ã–µ –æ –∫–Ω–∏–≥–∞—Ö –∏ –≥–ª–∞–≤–∞—Ö –ë–∏–±–ª–∏–∏
    ‚îî‚îÄ‚îÄ text_utils.py     # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º
```

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Python** - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **aiogram 3.x** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram-–±–æ—Ç–æ–≤
- **aiohttp** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- **pandas** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Excel-—Ñ–∞–π–ª–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞

### 1. –í—ã–±–æ—Ä –∫–Ω–∏–≥–∏ –∏ –≥–ª–∞–≤—ã
–î–æ—Å—Ç—É–ø –∏–∑ –º–µ–Ω—é —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "üìñ –í—ã–±—Ä–∞—Ç—å –∫–Ω–∏–≥—É". –†–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–≤–∞ —ç—Ç–∞–ø–∞:
1. –í—ã–±–æ—Ä –∫–Ω–∏–≥–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è –ø–æ 10 –∫–Ω–∏–≥)
2. –í–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ –≥–ª–∞–≤—ã

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- `handlers/text_messages.py`: `select_book()` - –≤—ã–±–æ—Ä –∫–Ω–∏–≥–∏
- `handlers/callbacks.py`: `book_selected()` - –∫–æ–ª–±—ç–∫ –≤—ã–±–æ—Ä–∞ –∫–Ω–∏–≥–∏
- `handlers/text_messages.py`: `chapter_input()` - –≤–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ –≥–ª–∞–≤—ã

### 2. –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≥–ª–∞–≤–∞–º
–ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –≥–ª–∞–≤—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –Ω–∏–º–∏ —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–æ–∫ "–ü—Ä–µ–¥—ã–¥—É—â–∞—è –≥–ª–∞–≤–∞" –∏ "–°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞".

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- `handlers/callbacks.py`: `next_chapter()` - –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –≥–ª–∞–≤–µ
- `handlers/callbacks.py`: `prev_chapter()` - –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≥–ª–∞–≤–µ

### 3. –ü–æ–∏—Å–∫ —Å—Ç–∏—Ö–æ–≤ –ø–æ —Å—Å—ã–ª–∫–µ
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–∫–∞—Ç—å —Å—Ç–∏—Ö–∏, —É–∫–∞–∑–∞–≤ —Å—Å—ã–ª–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–ö–Ω–∏–≥–∞ –≥–ª–∞–≤–∞:—Å—Ç–∏—Ö" (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ë—ã—Ç 1:1").

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- `handlers/text_messages.py`: `search_verse()` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∏—Å–∫–∞ —Å—Ç–∏—Ö–∞
- `handlers/text_messages.py`: `verse_reference()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–µ–¥–µ–Ω–Ω–æ–π —Å—Å—ã–ª–∫–∏

### 4. –ó–∞–∫–ª–∞–¥–∫–∏
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∑–∞–∫–ª–∞–¥–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–∏–º –ø–æ–∑–∂–µ.

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- `handlers/bookmark_callbacks.py`: `add_bookmark()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–ª–∞–¥–∫–∏
- `handlers/bookmarks.py`: `show_bookmarks()` - –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–ª–∞–¥–æ–∫
- `handlers/bookmark_callbacks.py`: `clear_bookmarks()` - –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –∑–∞–∫–ª–∞–¥–æ–∫

### 5. –°–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏—Ö
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å—Ç–∏—Ö–∞ –∏–∑ –ë–∏–±–ª–∏–∏ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "üìä –°–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏—Ö".

–û–±—Ä–∞–±–æ—Ç—á–∏–∫:
- `handlers/text_messages.py`: `random_verse()`

### 6. –°–º–µ–Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–∏–Ω–æ–¥–∞–ª—å–Ω—ã–º –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø–µ—Ä–µ–≤–æ–¥–æ–º.

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- `handlers/text_messages.py`: `change_translation_message()`
- `handlers/callbacks.py`: `change_translation()`

### 7. –ü–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–ü–æ–∏—Å–∫ —Å–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ –ë–∏–±–ª–∏–∏ (—Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∞ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏).

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- `handlers/text_messages.py`: `search_word_command()`, `process_search_query()`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ `config/settings.py`: `ENABLE_WORD_SEARCH`

## API –∏ –¥–∞–Ω–Ω—ã–µ

### API –ë–∏–±–ª–∏–∏
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API JustBible (https://justbible.ru/api):
- `/bible?translation=&book=&chapter=` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≥–ª–∞–≤—ã
- `/random?translation=` - —Å–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏—Ö
- `/search?translation=&search=` - –ø–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤—É

### –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö
1. **–ö–Ω–∏–≥–∏**: ID –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Excel-—Ñ–∞–π–ª–µ `file.xlsx`
2. **–ü–ª–∞–Ω —á—Ç–µ–Ω–∏—è**: —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Excel-—Ñ–∞–π–ª–µ `plan.xlsx` —Å –¥–∞—Ç–∞–º–∏ –∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –≥–ª–∞–≤—ã

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è API-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ `utils/api_client.py`:
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ `CACHE_TTL` —Å–µ–∫—É–Ω–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3600 —Å–µ–∫—É–Ω–¥ = 1 —á–∞—Å)
- –ö–ª—é—á–∏ –∫—ç—à–∞: `chapter_{book}_{chapter}_{translation}`, `search_{translation}_{query}`

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `middleware/state.py`:
- `chosen_book` - ID –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–Ω–∏–≥–∏
- `current_chapter` - —Ç–µ–∫—É—â–∞—è –≥–ª–∞–≤–∞
- `current_translation` - —Ç–µ–∫—É—â–∏–π –ø–µ—Ä–µ–≤–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "rst")
- `page` - —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ —Å–ø–∏—Å–∫–µ –∫–Ω–∏–≥
- `bookmarks` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–∫–ª–∞–¥–∫–∏

–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:
- `get_chosen_book()`, `set_chosen_book()`
- `get_current_chapter()`, `set_current_chapter()`
- `get_current_translation()`, `set_current_translation()`
- `get_page()`, `set_page()`
- `get_bookmarks()`, `add_bookmark()`, `remove_bookmark()`, `clear_bookmarks()`

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–∫–ª–∞–¥–æ–∫:
- –§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: `data/database.db`
- –¢–∞–±–ª–∏—Ü—ã:
  - `users` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö (id, username, name)
  - `bookmarks` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∑–∞–∫–ª–∞–¥–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (user_id, book_id, chapter, display_text)

### –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
–ö–ª–∞—Å—Å `DatabaseManager` –≤ `database/db_manager.py` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è:
- `add_user()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `add_bookmark()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–ª–∞–¥–∫–∏
- `get_bookmarks()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–ª–∞–¥–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `remove_bookmark()` - —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–∫–ª–∞–¥–∫–∏
- `clear_bookmarks()` - —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–∫–ª–∞–¥–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —á–µ—Ä–µ–∑:
1. Middleware `database/db_middleware.py`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç –ë–î –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
2. –ü–∞—Ä–∞–º–µ—Ç—Ä `db` –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
–ó–∞–∫–ª–∞–¥–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫ –∏ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –ë–î.

## –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
–¢–µ–∫—Å—Ç—ã –≥–ª–∞–≤ —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ —á–∞—Å—Ç–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ Telegram (–ª–∏–º–∏—Ç 4096 —Å–∏–º–≤–æ–ª–æ–≤):
- `utils/text_utils.py`: `split_text()` - —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —á–∞—Å—Ç–∏

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è 2 –ü–µ—Ç—Ä–∞
–í –±–æ—Ç–µ –µ—Å—Ç—å –æ—Å–æ–±—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –∫–Ω–∏–≥–∏ "2 –ü–µ—Ç—Ä–∞" (ID 47), –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç 3 –≥–ª–∞–≤—ã:
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥–ª–∞–≤—ã
- –ñ–µ—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω—ã–π –ª–∏–º–∏—Ç –≤ 3 –≥–ª–∞–≤—ã –¥–ª—è —ç—Ç–æ–π –∫–Ω–∏–≥–∏

### –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è
–§–∞–π–ª `bot_new.py` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–æ–Ω–æ–ª–∏—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é –±–æ—Ç–∞ –±–µ–∑ –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–¥–µ—Ç—Å—è –≤ –º–æ–¥—É–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `BOT_TOKEN`

2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
   ```
   pip install aiogram aiohttp pandas python-dotenv
   ```

3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:
   ```
   python bot.py
   ```

## –ó–∞–ø—É—Å–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `BOT_TOKEN`

2. –ó–∞–ø—É—Å–∫ —Å –ø–æ–º–æ—â—å—é Docker Compose:
   ```
   docker-compose up -d
   ```

3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
   ```
   docker-compose logs -f
   ```

4. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞:
   ```
   docker-compose down
   ```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker –Ω–∞–ø—Ä—è–º—É—é

1. –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞:
   ```
   docker build -t bible-bot .
   ```

2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
   ```
   docker run -d --name bible-bot --restart unless-stopped -v $(pwd)/data:/app/data -v $(pwd)/logs:/app/logs --env-file .env bible-bot
   ```

3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
   ```
   docker logs -f bible-bot
   ```

4. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
   ```
   docker stop bible-bot
   docker rm bible-bot
   ```

## –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `config/settings.py` —á–µ—Ä–µ–∑ `LOG_LEVEL`
- –õ–æ–≥–∏ –≤–∫–ª—é—á–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–±–æ—Ä–µ –∫–Ω–∏–≥, –≥–ª–∞–≤, API-–∑–∞–ø—Ä–æ—Å–∞—Ö –∏ –æ—à–∏–±–∫–∞—Ö

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
1. –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö `handlers/`
2. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –≤ `keyboards/main.py` 
3. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ `config/settings.py` –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö API-–º–µ—Ç–æ–¥–æ–≤
1. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ –∫–ª–∞—Å—Å `BibleAPIClient` –≤ `utils/api_client.py`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

![CodeRabbit Pull Request Reviews](https://img.shields.io/coderabbit/prs/github/probedrik/gospel_bot?utm_source=oss&utm_medium=github&utm_campaign=probedrik%2Fgospel_bot&labelColor=171717&color=FF570A&link=https%3A%2F%2Fcoderabbit.ai&label=CodeRabbit+Reviews)
