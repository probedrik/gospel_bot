# üí≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ÆKassa –¥–ª—è –ø—Ä–∏–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ÆKassa:

### 1. üè™ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –ÆKassa
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [yookassa.ru](https://yookassa.ru)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ –ò–ü –∏–ª–∏ –û–û–û
3. –ü—Ä–æ–π–¥–∏—Ç–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –Ω—É–∂–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã

### 2. üîë –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π
1. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ÆKassa
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"** ‚Üí **"API –∏ Webhooks"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Shop ID** (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞)
   - **Secret Key** (—Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á)

### 3. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –±–æ—Ç–µ

#### –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `.env`:
```env
# –ÆKassa –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
YOOKASSA_SHOP_ID = 123456  # –í–∞—à Shop ID
YOOKASSA_SECRET_KEY = live_abcdef123456  # –í–∞—à Secret Key
# YOOKASSA_WEBHOOK_SECRET = optional_webhook_secret  # –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
```

#### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

### 4. üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python bot.py
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `/settings`
2. **–í—ã–±–µ—Ä–∏—Ç–µ "–ü—Ä–µ–º–∏—É–º –ò–ò"** ‚Üí **"–ö—É–ø–∏—Ç—å 50 –∑–∞–ø—Ä–æ—Å–æ–≤"**
3. **–î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "üí≥ –û–ø–ª–∞—Ç–∏—Ç—å"** –≤–º–µ—Å—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ
4. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É** - –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã –ÆKassa

## üõ† –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Webhook (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–ª–∞—Ç–µ–∂–∞—Ö:

1. –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –ÆKassa –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Webhooks"**
2. –î–æ–±–∞–≤—å—Ç–µ URL: `https://your-domain.com/yookassa-webhook`
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–±—ã—Ç–∏—è: `payment.succeeded`
4. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
   ```env
   YOOKASSA_WEBHOOK_SECRET = your_webhook_secret
   ```

### –¢–µ—Å—Ç–æ–≤—ã–µ –ø–ª–∞—Ç–µ–∂–∏
–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏:
- Shop ID –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `test_`
- Secret Key –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `test_`

## üéØ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- ‚úÖ **–ü–æ–∫—É–ø–∫–∞ –ø—Ä–µ–º–∏—É–º –ò–ò –∑–∞–ø—Ä–æ—Å–æ–≤** - 50 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 299‚ÇΩ
- ‚úÖ **–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è** - —Å—É–º–º—ã 100‚ÇΩ, 300‚ÇΩ, 500‚ÇΩ, 1000‚ÇΩ
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞—á–∏—Å–ª–µ–Ω–∏–µ** - –∑–∞–ø—Ä–æ—Å—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –ÆKassa

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –û–±—è–∑–∞—Ç–µ–ª–µ–Ω –ª–∏ WEBHOOK_SECRET?
**A:** –ù–µ—Ç, –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω. –ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –±–µ–∑ –Ω–µ–≥–æ.

### Q: –ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è?
**A:** –í—Å–µ —Å–ø–æ—Å–æ–±—ã, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –≤ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ –ÆKassa:
- –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã (Visa, MasterCard, –ú–ò–†)
- –°–ë–ü (–°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π)
- –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∏
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–±–∞–Ω–∫–∏–Ω–≥

### Q: –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ÆKassa –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞?
**A:** –í –ª–æ–≥–∞—Ö –±–æ—Ç–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
‚úÖ –ÆKassa –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ
```

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç?
**A:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Shop ID –∏ Secret Key
2. –ß—Ç–æ –∫–ª—é—á–∏ –Ω–µ —Ç–µ—Å—Ç–æ–≤—ã–µ (–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
3. –ß—Ç–æ –≤ –ÆKassa –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã
4. –õ–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –í—Å–µ –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env` —Ñ–∞–π–ª–µ
- ‚úÖ –ü–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –ÆKassa
- ‚úÖ –ë–æ—Ç –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç
- ‚úÖ –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

---

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ÆKassa –≤–∞—à –±–æ—Ç —Å–º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏!** üéâ