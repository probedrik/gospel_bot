# üîß –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
```
üìä –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ë–î: SQLite
‚ùå –ü–ª–∞–Ω—ã –≤ Supabase –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
```

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ **–Ω–µ—Ç —Ñ–∞–π–ª–∞ .env** —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Supabase.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### **–®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env**
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```bash
cp env.supabase.example .env
```

### **–®–∞–≥ 2: –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª**
–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```env
# === –ù–ê–°–¢–†–û–ô–ö–ò –ë–û–¢–ê ===
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
ADMIN_ID=123456789

# === –ù–ê–°–¢–†–û–ô–ö–ò –ë–ê–ó–´ –î–ê–ù–ù–´–• ===
USE_SUPABASE=true

# === –ù–ê–°–¢–†–û–ô–ö–ò SUPABASE ===
SUPABASE_URL=https://abcdefghijklmnop.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# === –ù–ê–°–¢–†–û–ô–ö–ò –ò–ò ===
OPENAI_API_KEY=sk-...
AI_LIMIT_PER_DAY=10

# === –õ–û–ì–ò–†–û–í–ê–ù–ò–ï ===
LOG_LEVEL=INFO
TZ=Europe/Moscow
```

### **–®–∞–≥ 3: –ì–¥–µ –≤–∑—è—Ç—å –¥–∞–Ω–Ω—ã–µ Supabase**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://app.supabase.com/)**
2. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç**
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí API**
4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ:**
   - **Project URL** ‚Üí `SUPABASE_URL`
   - **Anon public key** ‚Üí `SUPABASE_KEY`

### **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
```bash
python force_switch_to_supabase_plans.py
```

**–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```
üìä –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ë–î: Supabase
‚úÖ –ù–∞–π–¥–µ–Ω–æ X –ø–ª–∞–Ω–æ–≤ –≤ Supabase
```

## üéØ –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è .env —Ñ–∞–π–ª–∞

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:**
```bash
python force_switch_to_supabase_plans.py
```

2. **–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑:**
```bash
.\build-and-push.ps1 -Username "probedrik" -Tag "v2.8.10"
```

3. **–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
```bash
docker-compose -f docker-compose.supabase-sdk.yml up -d
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
docker logs -f bible-bot-supabase | grep -E "(Supabase|–ø–ª–∞–Ω—ã)"
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
INFO: ‚òÅÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase –º–µ–Ω–µ–¥–∂–µ—Ä–∞
INFO: üóÑÔ∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: Supabase
INFO: ‚úÖ –ü–ª–∞–Ω—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ Supabase
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **–§–∞–π–ª .env –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ Git** (–æ–Ω –≤ .gitignore)
- **SUPABASE_KEY** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **anon public key**, –Ω–µ service key
- **USE_SUPABASE=true** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Supabase
- **–ü–ª–∞–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã** –≤ Supabase (—á—Ç–æ –≤—ã —É–∂–µ –¥–µ–ª–∞–ª–∏)

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ .env —Ñ–∞–π–ª–∞! üéØ 