# ‚≠ê –£–õ–£–ß–®–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ü–†–ï–ú–ò–£–ú –ò–ò

## üéØ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. üß† –ü—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò

**–ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
- **–†–∞–Ω—å—à–µ:** –°–Ω–∞—á–∞–ª–∞ –æ–±—ã—á–Ω—ã–π –ò–ò, –ø–æ—Ç–æ–º –ø—Ä–µ–º–∏—É–º –ò–ò
- **–¢–µ–ø–µ—Ä—å:** –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å—ã - –≤—Å–µ–≥–¥–∞ –ø—Ä–µ–º–∏—É–º –ò–ò

### 2. ‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ò–ò

**–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**
- üìä –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞
- üí∞ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø—Ä–µ–º–∏—É–º –ø–∞–∫–µ—Ç–∞  
- üì¶ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–µ–º–∏—É–º –ø–∞–∫–µ—Ç–∞
- üîÑ –°–±—Ä–æ—Å –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## üîÑ –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. **–î–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã** ‚Üí –û–±—ã—á–Ω—ã–π –ò–ò (Mistral)
2. **–õ–∏–º–∏—Ç—ã –∏—Å—á–µ—Ä–ø–∞–Ω—ã** ‚Üí –û—Ç–∫–∞–∑

### –î–ª—è –ø—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. **–î–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã** ‚Üí **–ü—Ä–µ–º–∏—É–º –ò–ò (Claude)** üÜï
2. **–î–Ω–µ–≤–Ω—ã–µ –∏—Å—á–µ—Ä–ø–∞–Ω—ã** ‚Üí –ü—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å—ã ‚Üí **–ü—Ä–µ–º–∏—É–º –ò–ò (Claude)**
3. **–í—Å–µ –∏—Å—á–µ—Ä–ø–∞–Ω–æ** ‚Üí –û—Ç–∫–∞–∑

## üéÆ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### ‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

**–ü—É—Ç—å:** ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí üëë –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å ‚Üí ‚öôÔ∏è –õ–∏–º–∏—Ç—ã –∏ —Ü–µ–Ω—ã –ò–ò

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
```
‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞–º–∏ –∏ —Ü–µ–Ω–∞–º–∏ –ò–ò

üìä –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
‚Ä¢ –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç: 5 –∑–∞–ø—Ä–æ—Å–æ–≤
‚Ä¢ –¶–µ–Ω–∞ –ø—Ä–µ–º–∏—É–º –ø–∞–∫–µ—Ç–∞: 100‚ÇΩ
‚Ä¢ –ó–∞–ø—Ä–æ—Å–æ–≤ –≤ –ø–∞–∫–µ—Ç–µ: 50

üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:
–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
–ü—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò.
```

**–ö–Ω–æ–ø–∫–∏:**
- üìä –ò–∑–º–µ–Ω–∏—Ç—å –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç
- üí∞ –ò–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É –ø–∞–∫–µ—Ç–∞
- üì¶ –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞
- üîÑ –°–±—Ä–æ—Å–∏—Ç—å –∫ —É–º–æ–ª—á–∞–Ω–∏—è–º

### üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–º–∏—É–º

**–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç –≤ –ø—Ä–µ–º–∏—É–º –¥–æ—Å—Ç—É–ø–µ:**
```
üíé –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
‚Ä¢ +50 –ø—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 100‚ÇΩ
‚Ä¢ –ó–∞–ø—Ä–æ—Å—ã –Ω–µ —Å–≥–æ—Ä–∞—é—Ç (–Ω–µ—Å–≥–æ—Ä–∞–µ–º—ã–µ)
‚Ä¢ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è
‚Ä¢ –ù–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è —Å –æ–±—ã—á–Ω—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏
‚Ä¢ –ü—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò! üÜï

üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å—ã - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–µ–º–∏—É–º –ò–ò üÜï
2. –°–Ω–∞—á–∞–ª–∞ —Ç—Ä–∞—Ç—è—Ç—Å—è –¥–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã (5 –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø—Ä–µ–º–∏—É–º –ò–ò) üÜï
3. –ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫—É–ø–ª–µ–Ω–Ω—ã–µ –ø—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å—ã
4. –ü—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–≥–æ—Ä–∞—é—Ç
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `ai_settings`:**
```sql
CREATE TABLE ai_settings (
    id SERIAL PRIMARY KEY,
    setting_key VARCHAR(100) NOT NULL UNIQUE,
    setting_value TEXT NOT NULL,
    setting_type VARCHAR(20) NOT NULL DEFAULT 'string',
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- `ai_daily_limit` = 5
- `premium_package_price` = 100
- `premium_package_requests` = 50

### üîÑ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å `AISettingsManager`:**
```python
from services.ai_settings_manager import ai_settings_manager

# –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
daily_limit = await ai_settings_manager.get_daily_limit()
premium_price = await ai_settings_manager.get_premium_price()
premium_requests = await ai_settings_manager.get_premium_requests()

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)
await ai_settings_manager.set_setting('ai_daily_limit', 10)
```

### üß† –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ò–ò

**–í `AIQuotaManager.check_and_increment_usage()`:**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å—ã
premium_available = await premium_manager.get_user_premium_requests(user_id)

# –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å—ã - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ–º–∏—É–º –ò–ò
if premium_available > 0:
    if quota_info['can_use_ai']:
        # –î–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Å –ø—Ä–µ–º–∏—É–º –ò–ò
        return True, 'premium'
    else:
        # –ü—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å—ã —Å –ø—Ä–µ–º–∏—É–º –ò–ò
        return True, 'premium'
```

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **üéØ –õ—É—á—à–∏–π –æ–ø—ã—Ç:** –ü—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- **üí∞ –ë–æ–ª—å—à–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏:** –î–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Ç–æ–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ–º–∏—É–º –ò–ò
- **üîÑ –ü—Ä–æ—Å—Ç–æ—Ç–∞:** –ù–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –æ —Ç–∏–ø–µ –ò–ò - —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- **‚öôÔ∏è –ì–∏–±–∫–æ—Å—Ç—å:** –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
- **üìä –ö–æ–Ω—Ç—Ä–æ–ª—å:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **üîÑ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–±—Ä–æ—Å–∞ –∫ —É–º–æ–ª—á–∞–Ω–∏—è–º

### –î–ª—è –ø—Ä–æ–µ–∫—Ç–∞:
- **üíµ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è:** –ü—Ä–µ–º–∏—É–º –¥–æ—Å—Ç—É–ø —Å—Ç–∞–ª –±–æ–ª–µ–µ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º
- **üìà –£–¥–µ—Ä–∂–∞–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏
- **üîß –£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

#### 1. –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–±–µ–∑ –ø—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å–æ–≤):
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç–∏—Ö ‚Üí "ü§ñ –†–∞–∑–±–æ—Ä –æ—Ç –ò–ò" ‚Üí –û–±—ã—á–Ω—ã–π –ò–ò (Mistral)
- –ü–æ—Å–ª–µ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ ‚Üí –û—Ç–∫–∞–∑ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –∫—É–ø–∏—Ç—å –ø—Ä–µ–º–∏—É–º

#### 2. –ü—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–µ—Å—Ç—å –ø—Ä–µ–º–∏—É–º –∑–∞–ø—Ä–æ—Å—ã):
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç–∏—Ö ‚Üí "ü§ñ –†–∞–∑–±–æ—Ä –æ—Ç –ò–ò" ‚Üí "‚≠ê –ü—Ä–µ–º–∏—É–º —Ä–∞–∑–±–æ—Ä –æ—Ç –ò–ò" (Claude)
- –í—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–∏–ø–∞ –ª–∏–º–∏—Ç–∞

#### 3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:
- –ó–∞—Ö–æ–¥–∏—Ç –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å ‚Üí –ú–µ–Ω—è–µ—Ç –ª–∏–º–∏—Ç —Å 5 –Ω–∞ 10
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "10 –∑–∞–ø—Ä–æ—Å–æ–≤"
- –ú–µ–Ω—è–µ—Ç —Ü–µ–Ω—É —Å 100‚ÇΩ –Ω–∞ 150‚ÇΩ ‚Üí –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –ü—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò
- ‚úÖ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `ai_settings` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–µ–º–∏—É–º –ª–æ–≥–∏–∫–∏
4. –û–±—É—á–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

## üéØ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–ø—É—Å–∫—É!