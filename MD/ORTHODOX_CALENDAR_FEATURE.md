# –§—É–Ω–∫—Ü–∏—è –ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–≥–æ –ö–∞–ª–µ–Ω–¥–∞—Ä—è

## –û–ø–∏—Å–∞–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –∫ [Holy Trinity Orthodox Calendar API](http://www.holytrinityorthodox.com/ru/calendar/doc/php.htm).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ –ª—é–±—É—é –¥–∞—Ç—É** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–∞ –ª—é–±–æ–π –¥–µ–Ω—å
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º** - –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥", "–í–ø–µ—Ä–µ–¥", "–°–µ–≥–æ–¥–Ω—è"
- **–ü–∞–º—è—Ç—å —Å–≤—è—Ç—ã—Ö** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∂–∏—Ç–∏—è —Å–≤—è—Ç—ã—Ö –¥–Ω—è
- **–¢—Ä–æ–ø–∞—Ä–∏** - —Ü–µ—Ä–∫–æ–≤–Ω—ã–µ –ø–µ—Å–Ω–æ–ø–µ–Ω–∏—è –¥–Ω—è
- **–ï–≤–∞–Ω–≥–µ–ª—å—Å–∫–∏–µ —á—Ç–µ–Ω–∏—è** - —á—Ç–µ–Ω–∏—è –¥–Ω—è —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è –≤ –±–æ—Ç–µ

### üìñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–∏–±–ª–∏–µ–π
- **–ö–Ω–æ–ø–∫–∏ –¥–ª—è –ï–≤–∞–Ω–≥–µ–ª—å—Å–∫–∏—Ö —á—Ç–µ–Ω–∏–π** - –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–µ–∫—Å—Ç—ã –≤ –±–æ—Ç–µ
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∑–∞–∫–ª–∞–¥–∫–∏** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —á—Ç–µ–Ω–∏—è
- **–†–∞–∑–±–æ—Ä –æ—Ç –ò–ò** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª–∫–æ–≤–∞–Ω–∏–π –ò–ò –¥–ª—è —á—Ç–µ–Ω–∏–π
- **–ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** - –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–ª–Ω–æ–π –≥–ª–∞–≤—ã, –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- **–ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è**:
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
  - –ñ–∏—Ç–∏—è —Å–≤—è—Ç—ã—Ö
  - –¢—Ä–æ–ø–∞—Ä–∏
  - –ï–≤–∞–Ω–≥–µ–ª—å—Å–∫–∏–µ —á—Ç–µ–Ω–∏—è
  - –§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã (–≥—Ä–∏–≥–æ—Ä–∏–∞–Ω—Å–∫–∏–π/—é–ª–∏–∞–Ω—Å–∫–∏–π)

### üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **–í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `utils/orthodox_calendar.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `keyboards/calendar.py` - –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `handlers/calendar.py` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `database/calendar_migration.sql` - –º–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `bot.py` - –¥–æ–±–∞–≤–ª–µ–Ω –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π —Ä–æ—É—Ç–µ—Ä
- `keyboards/main.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `keyboards/settings.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `handlers/settings.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `database/ai_settings_schema.sql` - –Ω–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `services/ai_settings_manager.py` - –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

### API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Holy Trinity Orthodox Calendar API:
```
http://www.holytrinityorthodox.com/ru/calendar/calendar.php
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:
- `month`, `today`, `year` - –¥–∞—Ç–∞
- `dt=1` - —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã (–≥—Ä–∏–≥–æ—Ä–∏–∞–Ω—Å–∫–∏–π/—é–ª–∏–∞–Ω—Å–∫–∏–π)
- `header=1` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `lives=1` - –∂–∏—Ç–∏—è —Å–≤—è—Ç—ã—Ö
- `trp=1` - —Ç—Ä–æ–ø–∞—Ä–∏ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
- `scripture=1` - –ï–≤–∞–Ω–≥–µ–ª—å—Å–∫–∏–µ —á—Ç–µ–Ω–∏—è —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞**: 1 —á–∞—Å
- **–¢–∏–ø –∫—ç—à–∞**: –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ö–ª—é—á –∫—ç—à–∞**: –¥–∞—Ç–∞ + —Ö—ç—à –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
1. –ù–∞–∂–∞—Ç—å "üìÖ –ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –¥–∞—Ç
3. –ù–∞–∂–∏–º–∞—Ç—å –Ω–∞ –ï–≤–∞–Ω–≥–µ–ª—å—Å–∫–∏–µ —á—Ç–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Ç–µ–∫—Å—Ç—É
4. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è"

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
1. –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ ‚Üí "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∞–º–∏"
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
3. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ª–æ–≥–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `ai_settings`:
```sql
calendar_enabled - –≤–∫–ª—é—á–µ–Ω–∞ –ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
calendar_default_header - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
calendar_default_lives - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∂–∏—Ç–∏—è —Å–≤—è—Ç—ã—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é  
calendar_default_tropars - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç—Ä–æ–ø–∞—Ä–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
calendar_default_scripture - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —á—Ç–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
calendar_default_date_format - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
–í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:
```bash
psql -d your_database -f database/calendar_migration.sql
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –∏–º–µ—é—Ç —Ç–∞–π–º–∞—É—Ç 10 —Å–µ–∫—É–Ω–¥
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –≤–Ω–µ—à–Ω–µ–º—É API
- –ü–∞—Ä—Å–∏–Ω–≥ HTML –±–µ–∑–æ–ø–∞—Å–µ–Ω (—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã—Ö —Ç–µ–≥–æ–≤)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Telegram

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –£—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é
- –û—à–∏–±–∫–∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- –ö—ç—à-–ø–æ–ø–∞–¥–∞–Ω–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

**–î–∞—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è**: 2025-01-25
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏