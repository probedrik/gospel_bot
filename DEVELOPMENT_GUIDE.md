# ğŸ“±ğŸ’» Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ±Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ¸ ÑĞ°Ğ¹Ñ‚Ğ°

## ğŸ“‹ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ
1. [ĞĞ±Ğ·Ğ¾Ñ€ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹](#Ğ¾Ğ±Ğ·Ğ¾Ñ€-Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹)
2. [Android Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ](#android-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ)
3. [Ğ’ĞµĞ±-ÑĞ°Ğ¹Ñ‚](#Ğ²ĞµĞ±-ÑĞ°Ğ¹Ñ‚)
4. [ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹](#Ğ¾Ğ±Ñ‰Ğ¸Ğµ-ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹)
5. [Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#Ğ±Ğ°Ğ·Ğ°-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
6. [API Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸](#api-Ğ¸-Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸)
7. [Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ](#Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ)

---

## ğŸ¯ ĞĞ±Ğ·Ğ¾Ñ€ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ»Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:
- ğŸ“– **Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¸** - Ğ²ÑĞµ 66 ĞºĞ½Ğ¸Ğ³ Ğ² Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°Ñ…
- ğŸ” **ĞŸĞ¾Ğ¸ÑĞº ÑÑ‚Ğ¸Ñ…Ğ¾Ğ²** - Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ğ¾ ÑÑÑ‹Ğ»ĞºĞ°Ğ¼ (`Ğ˜Ğ½ 3:16`)
- ğŸ¤– **Ğ˜Ğ˜ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº** - Ñ€Ğ°Ğ·Ğ±Ğ¾Ñ€ ÑÑ‚Ğ¸Ñ…Ğ¾Ğ² Ñ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ°Ğ¼Ğ¸
- ğŸ“ **Ğ—Ğ°ĞºĞ»Ğ°Ğ´ĞºĞ¸** - ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ¸Ñ…Ğ¾Ğ² Ñ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ°Ğ¼Ğ¸
- ğŸ“š **ĞŸĞ»Ğ°Ğ½Ñ‹ Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ** - ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ğµ
- ğŸ¯ **Ğ‘Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¸Ğµ Ñ‚ĞµĞ¼Ñ‹** - Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ğ¾Ğ´Ğ±Ğ¾Ñ€ĞºĞ¸
- ğŸ“… **ĞŸÑ€Ğ°Ğ²Ğ¾ÑĞ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ** - Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¸ Ğ¸ Ğ¿Ğ¾ÑÑ‚Ñ‹
- ğŸ” **ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ ÑĞ»Ğ¾Ğ²Ğ°Ğ¼** - Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº
- âš™ï¸ **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸** - Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹, Ñ‚ĞµĞ¼Ñ‹ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ
- ğŸ‘‘ **ĞĞ´Ğ¼Ğ¸Ğ½ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ** - ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ¾Ğ¼

---

# ğŸ“± Android Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ

## ğŸ›  Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

### Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:
- **Ğ¯Ğ·Ñ‹Ğº**: Kotlin (Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾) Ğ¸Ğ»Ğ¸ Java
- **UI**: Jetpack Compose (ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹) Ğ¸Ğ»Ğ¸ XML layouts
- **ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°**: MVVM Ñ Repository pattern
- **Ğ‘Ğ”**: Room Database + SQLite
- **Ğ¡ĞµÑ‚ÑŒ**: Retrofit + OkHttp
- **ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ**: Navigation Component
- **DI**: Hilt (Dagger)
- **ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ**: Kotlin Coroutines + Flow

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
app/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/com/yourname/bibleapp/
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Book.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Chapter.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Verse.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Bookmark.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ReadingPlan.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ User.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dao/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BibleDao.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BookmarkDao.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ReadingPlanDao.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BibleDatabase.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BibleRepository.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BookmarkRepository.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIRepository.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CalendarRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ network/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OpenRouterAPI.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CalendarAPI.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚   â”‚   â””â”€â”€ preferences/
â”‚   â”‚   â”‚       â””â”€â”€ UserPreferences.kt
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ usecases/
â”‚   â”‚   â”‚   â””â”€â”€ repositories/
â”‚   â”‚   â”œâ”€â”€ presentation/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ books/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BooksScreen.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BooksViewModel.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reading/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ReadingScreen.kt
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ReadingViewModel.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bookmarks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ search/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ plans/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ themes/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ calendar/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VerseCard.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ NavigationDrawer.kt
â”‚   â”‚   â”‚   â””â”€â”€ theme/
â”‚   â”‚   â”‚       â”œâ”€â”€ Color.kt
â”‚   â”‚   â”‚       â”œâ”€â”€ Theme.kt
â”‚   â”‚   â”‚       â””â”€â”€ Type.kt
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ BibleParser.kt
â”‚   â”‚       â”œâ”€â”€ DateUtils.kt
â”‚   â”‚       â””â”€â”€ Constants.kt
â”‚   â””â”€â”€ res/
â”‚       â”œâ”€â”€ values/
â”‚       â”‚   â”œâ”€â”€ strings.xml
â”‚       â”‚   â”œâ”€â”€ colors.xml
â”‚       â”‚   â””â”€â”€ themes.xml
â”‚       â””â”€â”€ drawable/
â””â”€â”€ build.gradle.kts
```

## ğŸ”§ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### 1. Entity ĞºĞ»Ğ°ÑÑÑ‹ (Room Database)

```kotlin
// Verse.kt
@Entity(tableName = "verses")
data class Verse(
    @PrimaryKey val id: Int,
    val bookId: Int,
    val chapterNumber: Int,
    val verseNumber: Int,
    val text: String,
    val translation: String
)

// Bookmark.kt
@Entity(tableName = "bookmarks")
data class Bookmark(
    @PrimaryKey(autoGenerate = true) val id: Long = 0,
    val verseId: Int,
    val note: String = "",
    val createdAt: Long = System.currentTimeMillis(),
    val tags: String = ""
)
```

### 2. DAO Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹

```kotlin
@Dao
interface BibleDao {
    @Query("SELECT * FROM verses WHERE bookId = :bookId AND chapterNumber = :chapter")
    suspend fun getChapter(bookId: Int, chapter: Int): List<Verse>
    
    @Query("SELECT * FROM verses WHERE text LIKE '%' || :query || '%'")
    suspend fun searchVerses(query: String): List<Verse>
    
    @Query("SELECT * FROM verses WHERE bookId = :bookId AND chapterNumber = :chapter AND verseNumber BETWEEN :startVerse AND :endVerse")
    suspend fun getVerseRange(bookId: Int, chapter: Int, startVerse: Int, endVerse: Int): List<Verse>
}
```

### 3. Repository

```kotlin
class BibleRepository @Inject constructor(
    private val bibleDao: BibleDao,
    private val apiService: BibleApiService
) {
    suspend fun getChapter(bookId: Int, chapter: Int): List<Verse> {
        return bibleDao.getChapter(bookId, chapter)
    }
    
    suspend fun searchVerses(query: String): List<Verse> {
        return bibleDao.searchVerses(query)
    }
    
    suspend fun parseReference(reference: String): List<Verse> {
        // Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ° Ğ±Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¸Ñ… ÑÑÑ‹Ğ»Ğ¾Ğº (Ğ˜Ğ½ 3:16, ĞœÑ„ 5:3-12)
        val parsed = BibleReferenceParser.parse(reference)
        return bibleDao.getVerseRange(parsed.bookId, parsed.chapter, parsed.startVerse, parsed.endVerse)
    }
}
```

### 4. ViewModel

```kotlin
@HiltViewModel
class ReadingViewModel @Inject constructor(
    private val bibleRepository: BibleRepository,
    private val bookmarkRepository: BookmarkRepository,
    private val aiRepository: AIRepository
) : ViewModel() {
    
    private val _verses = MutableLiveData<List<Verse>>()
    val verses: LiveData<List<Verse>> = _verses
    
    private val _aiExplanation = MutableLiveData<String>()
    val aiExplanation: LiveData<String> = _aiExplanation
    
    fun loadChapter(bookId: Int, chapter: Int) {
        viewModelScope.launch {
            try {
                val verses = bibleRepository.getChapter(bookId, chapter)
                _verses.value = verses
            } catch (e: Exception) {
                // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
            }
        }
    }
    
    fun getAIExplanation(verses: List<Verse>) {
        viewModelScope.launch {
            try {
                val explanation = aiRepository.explainVerses(verses)
                _aiExplanation.value = explanation
            } catch (e: Exception) {
                // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
            }
        }
    }
    
    fun addBookmark(verse: Verse, note: String) {
        viewModelScope.launch {
            bookmarkRepository.addBookmark(verse.id, note)
        }
    }
}
```

### 5. Compose UI

```kotlin
@Composable
fun ReadingScreen(
    viewModel: ReadingViewModel = hiltViewModel()
) {
    val verses by viewModel.verses.observeAsState(emptyList())
    val aiExplanation by viewModel.aiExplanation.observeAsState()
    
    LazyColumn {
        items(verses) { verse ->
            VerseCard(
                verse = verse,
                onBookmark = { note -> viewModel.addBookmark(verse, note) },
                onAIExplain = { viewModel.getAIExplanation(listOf(verse)) }
            )
        }
        
        aiExplanation?.let { explanation ->
            item {
                AIExplanationCard(explanation = explanation)
            }
        }
    }
}

@Composable
fun VerseCard(
    verse: Verse,
    onBookmark: (String) -> Unit,
    onAIExplain: () -> Unit
) {
    Card(
        modifier = Modifier
            .fillMaxWidth()
            .padding(8.dp)
    ) {
        Column(modifier = Modifier.padding(16.dp)) {
            Text(
                text = "${verse.verseNumber}. ${verse.text}",
                style = MaterialTheme.typography.body1
            )
            
            Row(
                modifier = Modifier.fillMaxWidth(),
                horizontalArrangement = Arrangement.End
            ) {
                IconButton(onClick = onAIExplain) {
                    Icon(Icons.Default.Psychology, contentDescription = "Ğ˜Ğ˜ Ñ€Ğ°Ğ·Ğ±Ğ¾Ñ€")
                }
                IconButton(onClick = { onBookmark("") }) {
                    Icon(Icons.Default.Bookmark, contentDescription = "Ğ—Ğ°ĞºĞ»Ğ°Ğ´ĞºĞ°")
                }
            }
        }
    }
}
```

## ğŸ” ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### ĞŸĞ°Ñ€ÑĞµÑ€ Ğ±Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¸Ñ… ÑÑÑ‹Ğ»Ğ¾Ğº

```kotlin
object BibleReferenceParser {
    private val referencePattern = Regex("""(\w+)\s*(\d+):(\d+)(?:-(\d+))?(?:-(\d+):(\d+))?""")
    
    fun parse(reference: String): ParsedReference? {
        val match = referencePattern.find(reference) ?: return null
        
        val bookName = match.groupValues[1]
        val chapter = match.groupValues[2].toInt()
        val startVerse = match.groupValues[3].toInt()
        val endVerse = match.groupValues[4].toIntOrNull() ?: startVerse
        
        return ParsedReference(
            bookId = getBookId(bookName),
            chapter = chapter,
            startVerse = startVerse,
            endVerse = endVerse
        )
    }
}
```

### Ğ˜Ğ˜ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ

```kotlin
class AIRepository @Inject constructor(
    private val openRouterAPI: OpenRouterAPI,
    private val userPreferences: UserPreferences
) {
    suspend fun explainVerses(verses: List<Verse>): String {
        if (!checkDailyLimit()) throw AILimitExceededException()
        
        val prompt = buildPrompt(verses)
        val response = openRouterAPI.generateExplanation(prompt)
        
        incrementDailyUsage()
        return response.text
    }
    
    private suspend fun checkDailyLimit(): Boolean {
        val today = LocalDate.now().toString()
        val lastUsageDate = userPreferences.getLastAIUsageDate()
        val usageCount = if (lastUsageDate == today) {
            userPreferences.getAIUsageCount()
        } else 0
        
        return usageCount < AI_DAILY_LIMIT
    }
}
```

## ğŸ¨ UI/UX Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸

### Ğ¢ĞµĞ¼Ñ‹ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ
```kotlin
@Composable
fun BibleAppTheme(
    darkTheme: Boolean = isSystemInDarkTheme(),
    content: @Composable () -> Unit
) {
    val colors = if (darkTheme) {
        darkColorScheme(
            primary = Color(0xFF6750A4),
            onPrimary = Color.White,
            background = Color(0xFF121212),
            surface = Color(0xFF1E1E1E)
        )
    } else {
        lightColorScheme(
            primary = Color(0xFF6750A4),
            onPrimary = Color.White,
            background = Color(0xFFFFFBFE),
            surface = Color.White
        )
    }
    
    MaterialTheme(
        colorScheme = colors,
        typography = Typography(),
        content = content
    )
}
```

### ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ
```kotlin
@Composable
fun BibleNavigation() {
    val navController = rememberNavController()
    
    NavHost(
        navController = navController,
        startDestination = "books"
    ) {
        composable("books") {
            BooksScreen(
                onBookSelected = { bookId ->
                    navController.navigate("reading/$bookId/1")
                }
            )
        }
        composable("reading/{bookId}/{chapter}") { backStackEntry ->
            val bookId = backStackEntry.arguments?.getString("bookId")?.toInt() ?: 1
            val chapter = backStackEntry.arguments?.getString("chapter")?.toInt() ?: 1
            ReadingScreen(bookId = bookId, chapter = chapter)
        }
        composable("bookmarks") { BookmarksScreen() }
        composable("search") { SearchScreen() }
        composable("plans") { ReadingPlansScreen() }
        composable("themes") { ThemesScreen() }
        composable("calendar") { CalendarScreen() }
        composable("settings") { SettingsScreen() }
    }
}
```

---

# ğŸ’» Ğ’ĞµĞ±-ÑĞ°Ğ¹Ñ‚

## ğŸ›  Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

### Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:
- **Frontend**: React.js + TypeScript
- **UI Framework**: Material-UI Ğ¸Ğ»Ğ¸ Tailwind CSS
- **State Management**: Redux Toolkit Ğ¸Ğ»Ğ¸ Zustand
- **Routing**: React Router
- **Build Tool**: Vite Ğ¸Ğ»Ğ¸ Create React App
- **Backend**: Node.js + Express Ğ¸Ğ»Ğ¸ Next.js
- **Ğ‘Ğ”**: PostgreSQL + Prisma ORM
- **Auth**: NextAuth.js Ğ¸Ğ»Ğ¸ Firebase Auth
- **Hosting**: Vercel, Netlify Ğ¸Ğ»Ğ¸ AWS

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
bible-web-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ LoadingSpinner.tsx
â”‚   â”‚   â”œâ”€â”€ bible/
â”‚   â”‚   â”‚   â”œâ”€â”€ BooksGrid.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ChapterView.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ VerseCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ BibleNavigation.tsx
â”‚   â”‚   â”œâ”€â”€ bookmarks/
â”‚   â”‚   â”‚   â”œâ”€â”€ BookmarksList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ BookmarkCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ AddBookmarkModal.tsx
â”‚   â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”‚   â”œâ”€â”€ AIExplanation.tsx
â”‚   â”‚   â”‚   â””â”€â”€ AILimitIndicator.tsx
â”‚   â”‚   â”œâ”€â”€ reading-plans/
â”‚   â”‚   â”‚   â”œâ”€â”€ PlansGrid.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PlanCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ProgressTracker.tsx
â”‚   â”‚   â”œâ”€â”€ themes/
â”‚   â”‚   â”‚   â”œâ”€â”€ ThemesGrid.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ThemeCard.tsx
â”‚   â”‚   â”œâ”€â”€ calendar/
â”‚   â”‚   â”‚   â”œâ”€â”€ CalendarView.tsx
â”‚   â”‚   â”‚   â””â”€â”€ EventCard.tsx
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚       â”œâ”€â”€ SettingsPanel.tsx
â”‚   â”‚       â””â”€â”€ TranslationSelector.tsx
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx
â”‚   â”‚   â”œâ”€â”€ BooksPage.tsx
â”‚   â”‚   â”œâ”€â”€ ReadingPage.tsx
â”‚   â”‚   â”œâ”€â”€ BookmarksPage.tsx
â”‚   â”‚   â”œâ”€â”€ SearchPage.tsx
â”‚   â”‚   â”œâ”€â”€ PlansPage.tsx
â”‚   â”‚   â”œâ”€â”€ ThemesPage.tsx
â”‚   â”‚   â”œâ”€â”€ CalendarPage.tsx
â”‚   â”‚   â””â”€â”€ SettingsPage.tsx
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useBible.ts
â”‚   â”‚   â”œâ”€â”€ useBookmarks.ts
â”‚   â”‚   â”œâ”€â”€ useAI.ts
â”‚   â”‚   â”œâ”€â”€ useSearch.ts
â”‚   â”‚   â””â”€â”€ useAuth.ts
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ bibleService.ts
â”‚   â”‚   â”œâ”€â”€ aiService.ts
â”‚   â”‚   â”œâ”€â”€ bookmarkService.ts
â”‚   â”‚   â””â”€â”€ calendarService.ts
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”œâ”€â”€ slices/
â”‚   â”‚   â”‚   â”œâ”€â”€ bibleSlice.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ bookmarksSlice.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ userSlice.ts
â”‚   â”‚   â”‚   â””â”€â”€ settingsSlice.ts
â”‚   â”‚   â””â”€â”€ store.ts
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ bible.ts
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ bibleParser.ts
â”‚   â”‚   â”œâ”€â”€ dateUtils.ts
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â””â”€â”€ styles/
â”‚       â”œâ”€â”€ globals.css
â”‚       â””â”€â”€ components.css
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ images/
â”œâ”€â”€ api/ (ĞµÑĞ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚Ğµ Next.js)
â”‚   â”œâ”€â”€ bible/
â”‚   â”œâ”€â”€ bookmarks/
â”‚   â”œâ”€â”€ ai/
â”‚   â””â”€â”€ calendar/
â””â”€â”€ package.json
```

## ğŸ”§ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### 1. React ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

```tsx
// ChapterView.tsx
import React, { useState, useEffect } from 'react';
import { useParams } from 'react-router-dom';
import { useBible } from '../hooks/useBible';
import { useAI } from '../hooks/useAI';
import VerseCard from './VerseCard';

interface ChapterViewProps {
  bookId: number;
  chapter: number;
}

const ChapterView: React.FC<ChapterViewProps> = ({ bookId, chapter }) => {
  const { verses, loading, error } = useBible(bookId, chapter);
  const { getExplanation, aiLoading } = useAI();
  const [selectedVerses, setSelectedVerses] = useState<number[]>([]);

  const handleVerseSelect = (verseId: number) => {
    setSelectedVerses(prev => 
      prev.includes(verseId) 
        ? prev.filter(id => id !== verseId)
        : [...prev, verseId]
    );
  };

  const handleAIExplanation = async () => {
    if (selectedVerses.length === 0) return;
    
    const versesToExplain = verses.filter(v => selectedVerses.includes(v.id));
    await getExplanation(versesToExplain);
  };

  if (loading) return <div className="loading-spinner">Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...</div>;
  if (error) return <div className="error">ĞÑˆĞ¸Ğ±ĞºĞ°: {error}</div>;

  return (
    <div className="chapter-view">
      <div className="chapter-header">
        <h2>Ğ“Ğ»Ğ°Ğ²Ğ° {chapter}</h2>
        {selectedVerses.length > 0 && (
          <button 
            onClick={handleAIExplanation}
            disabled={aiLoading}
            className="ai-explain-btn"
          >
            ğŸ¤– Ğ˜Ğ˜ Ñ€Ğ°Ğ·Ğ±Ğ¾Ñ€ ({selectedVerses.length} ÑÑ‚Ğ¸Ñ…Ğ¾Ğ²)
          </button>
        )}
      </div>
      
      <div className="verses-container">
        {verses.map(verse => (
          <VerseCard
            key={verse.id}
            verse={verse}
            selected={selectedVerses.includes(verse.id)}
            onSelect={() => handleVerseSelect(verse.id)}
          />
        ))}
      </div>
    </div>
  );
};

export default ChapterView;
```

### 2. Hooks

```tsx
// useBible.ts
import { useState, useEffect } from 'react';
import { bibleService } from '../services/bibleService';
import { Verse } from '../types/bible';

export const useBible = (bookId: number, chapter: number) => {
  const [verses, setVerses] = useState<Verse[]>([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchVerses = async () => {
      setLoading(true);
      setError(null);
      
      try {
        const data = await bibleService.getChapter(bookId, chapter);
        setVerses(data);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°');
      } finally {
        setLoading(false);
      }
    };

    fetchVerses();
  }, [bookId, chapter]);

  return { verses, loading, error };
};

// useAI.ts
import { useState } from 'react';
import { aiService } from '../services/aiService';
import { useAppSelector, useAppDispatch } from '../store/hooks';
import { incrementAIUsage } from '../store/slices/userSlice';

export const useAI = () => {
  const [explanation, setExplanation] = useState<string>('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  
  const aiUsage = useAppSelector(state => state.user.aiUsageToday);
  const dispatch = useAppDispatch();

  const getExplanation = async (verses: Verse[]) => {
    if (aiUsage >= 3) {
      setError('Ğ”Ğ¾ÑÑ‚Ğ¸Ğ³Ğ½ÑƒÑ‚ Ğ´Ğ½ĞµĞ²Ğ½Ğ¾Ğ¹ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ Ğ˜Ğ˜ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²');
      return;
    }

    setLoading(true);
    setError(null);

    try {
      const result = await aiService.explainVerses(verses);
      setExplanation(result);
      dispatch(incrementAIUsage());
    } catch (err) {
      setError(err instanceof Error ? err.message : 'ĞÑˆĞ¸Ğ±ĞºĞ° Ğ˜Ğ˜');
    } finally {
      setLoading(false);
    }
  };

  return { explanation, loading, error, getExplanation };
};
```

### 3. Services

```tsx
// bibleService.ts
import { api } from './api';
import { Verse, Book, Chapter } from '../types/bible';

export const bibleService = {
  async getBooks(): Promise<Book[]> {
    const response = await api.get('/bible/books');
    return response.data;
  },

  async getChapter(bookId: number, chapter: number): Promise<Verse[]> {
    const response = await api.get(`/bible/books/${bookId}/chapters/${chapter}`);
    return response.data;
  },

  async searchVerses(query: string): Promise<Verse[]> {
    const response = await api.get(`/bible/search?q=${encodeURIComponent(query)}`);
    return response.data;
  },

  async parseReference(reference: string): Promise<Verse[]> {
    const response = await api.post('/bible/parse', { reference });
    return response.data;
  }
};

// aiService.ts
import { api } from './api';
import { Verse } from '../types/bible';

export const aiService = {
  async explainVerses(verses: Verse[]): Promise<string> {
    const response = await api.post('/ai/explain', {
      verses: verses.map(v => ({ text: v.text, reference: `${v.book} ${v.chapter}:${v.verse}` }))
    });
    return response.data.explanation;
  },

  async getDailyLimitInfo(): Promise<{ used: number; limit: number }> {
    const response = await api.get('/ai/limits');
    return response.data;
  }
};
```

### 4. Redux Store

```tsx
// store/slices/bibleSlice.ts
import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';
import { bibleService } from '../../services/bibleService';
import { Verse, Book } from '../../types/bible';

interface BibleState {
  books: Book[];
  currentVerses: Verse[];
  currentBook: number | null;
  currentChapter: number | null;
  loading: boolean;
  error: string | null;
}

const initialState: BibleState = {
  books: [],
  currentVerses: [],
  currentBook: null,
  currentChapter: null,
  loading: false,
  error: null
};

export const fetchBooks = createAsyncThunk(
  'bible/fetchBooks',
  async () => {
    return await bibleService.getBooks();
  }
);

export const fetchChapter = createAsyncThunk(
  'bible/fetchChapter',
  async ({ bookId, chapter }: { bookId: number; chapter: number }) => {
    return await bibleService.getChapter(bookId, chapter);
  }
);

const bibleSlice = createSlice({
  name: 'bible',
  initialState,
  reducers: {
    setCurrentLocation: (state, action: PayloadAction<{ book: number; chapter: number }>) => {
      state.currentBook = action.payload.book;
      state.currentChapter = action.payload.chapter;
    },
    clearError: (state) => {
      state.error = null;
    }
  },
  extraReducers: (builder) => {
    builder
      .addCase(fetchBooks.pending, (state) => {
        state.loading = true;
      })
      .addCase(fetchBooks.fulfilled, (state, action) => {
        state.loading = false;
        state.books = action.payload;
      })
      .addCase(fetchBooks.rejected, (state, action) => {
        state.loading = false;
        state.error = action.error.message || 'ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ĞºĞ½Ğ¸Ğ³';
      })
      .addCase(fetchChapter.fulfilled, (state, action) => {
        state.currentVerses = action.payload;
      });
  }
});

export const { setCurrentLocation, clearError } = bibleSlice.actions;
export default bibleSlice.reducer;
```

## ğŸ¨ CSS ÑÑ‚Ğ¸Ğ»Ğ¸

```css
/* styles/globals.css */
:root {
  --primary-color: #6750A4;
  --secondary-color: #625B71;
  --background-color: #FFFBFE;
  --surface-color: #FFFFFF;
  --text-primary: #1C1B1F;
  --text-secondary: #49454F;
  --border-color: #CAC4D0;
}

[data-theme="dark"] {
  --background-color: #121212;
  --surface-color: #1E1E1E;
  --text-primary: #E6E1E5;
  --text-secondary: #CAC4D0;
  --border-color: #49454F;
}

body {
  background-color: var(--background-color);
  color: var(--text-primary);
  font-family: 'Roboto', sans-serif;
  margin: 0;
  padding: 0;
}

.verse-card {
  background: var(--surface-color);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 16px;
  margin: 8px 0;
  transition: all 0.2s ease;
}

.verse-card:hover {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.verse-card.selected {
  border-color: var(--primary-color);
  background: rgba(103, 80, 164, 0.1);
}

.ai-explain-btn {
  background: var(--primary-color);
  color: white;
  border: none;
  border-radius: 20px;
  padding: 8px 16px;
  cursor: pointer;
  font-size: 14px;
  transition: background 0.2s ease;
}

.ai-explain-btn:hover:not(:disabled) {
  background: #5A4FCF;
}

.ai-explain-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}
```

## ğŸ” ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ²ĞµĞ±-Ğ²ĞµÑ€ÑĞ¸Ğ¸

### PWA Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°
```json
// public/manifest.json
{
  "name": "Ğ‘Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ",
  "short_name": "Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ñ",
  "description": "Ğ˜Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¡Ğ²ÑÑ‰ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞŸĞ¸ÑĞ°Ğ½Ğ¸Ñ Ñ Ğ˜Ğ˜ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸ĞºĞ¾Ğ¼",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#6750A4",
  "theme_color": "#6750A4",
  "icons": [
    {
      "src": "/icons/icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icons/icon-512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}
```

### Service Worker
```javascript
// public/sw.js
const CACHE_NAME = 'bible-app-v1';
const urlsToCache = [
  '/',
  '/static/js/bundle.js',
  '/static/css/main.css',
  '/bible-data.json'
];

self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then((cache) => cache.addAll(urlsToCache))
  );
});

self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
      .then((response) => {
        if (response) {
          return response;
        }
        return fetch(event.request);
      })
  );
});
```

---

# ğŸ—„ï¸ ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

## ğŸ“Š Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### Ğ¡Ñ…ĞµĞ¼Ğ° PostgreSQL

```sql
-- ĞšĞ½Ğ¸Ğ³Ğ¸ Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¸
CREATE TABLE books (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    short_name VARCHAR(10) NOT NULL,
    testament VARCHAR(10) NOT NULL, -- 'old' Ğ¸Ğ»Ğ¸ 'new'
    chapters_count INTEGER NOT NULL,
    book_order INTEGER NOT NULL
);

-- Ğ¡Ñ‚Ğ¸Ñ…Ğ¸
CREATE TABLE verses (
    id SERIAL PRIMARY KEY,
    book_id INTEGER REFERENCES books(id),
    chapter_number INTEGER NOT NULL,
    verse_number INTEGER NOT NULL,
    text TEXT NOT NULL,
    translation VARCHAR(20) NOT NULL DEFAULT 'rst'
);

-- ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    telegram_id BIGINT UNIQUE,
    email VARCHAR(255) UNIQUE,
    username VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    ai_usage_count INTEGER DEFAULT 0,
    ai_usage_date DATE DEFAULT CURRENT_DATE,
    premium_ai_count INTEGER DEFAULT 0,
    settings JSONB DEFAULT '{}'::jsonb
);

-- Ğ—Ğ°ĞºĞ»Ğ°Ğ´ĞºĞ¸
CREATE TABLE bookmarks (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    verse_id INTEGER REFERENCES verses(id),
    note TEXT DEFAULT '',
    tags TEXT[] DEFAULT '{}',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ĞŸĞ»Ğ°Ğ½Ñ‹ Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ
CREATE TABLE reading_plans (
    id SERIAL PRIMARY KEY,
    name VARCHAR(200) NOT NULL,
    description TEXT,
    duration_days INTEGER NOT NULL,
    plan_data JSONB NOT NULL -- ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ğ»Ğ°Ğ½Ğ°
);

-- ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ¿Ğ¾ Ğ¿Ğ»Ğ°Ğ½Ğ°Ğ¼
CREATE TABLE user_reading_progress (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    plan_id INTEGER REFERENCES reading_plans(id),
    current_day INTEGER DEFAULT 1,
    completed_days INTEGER[] DEFAULT '{}',
    started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(user_id, plan_id)
);

-- Ğ‘Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¸Ğµ Ñ‚ĞµĞ¼Ñ‹
CREATE TABLE themes (
    id SERIAL PRIMARY KEY,
    name VARCHAR(200) NOT NULL,
    description TEXT,
    verses JSONB NOT NULL -- Ğ¼Ğ°ÑÑĞ¸Ğ² ÑÑÑ‹Ğ»Ğ¾Ğº Ğ½Ğ° ÑÑ‚Ğ¸Ñ…Ğ¸
);

-- ĞŸÑ€Ğ°Ğ²Ğ¾ÑĞ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ
CREATE TABLE calendar_events (
    id SERIAL PRIMARY KEY,
    date DATE NOT NULL,
    title VARCHAR(300) NOT NULL,
    description TEXT,
    event_type VARCHAR(50) NOT NULL, -- 'holiday', 'fast', 'saint'
    importance INTEGER DEFAULT 1 -- 1-5, Ğ²Ğ°Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
);

-- Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
CREATE INDEX idx_verses_book_chapter ON verses(book_id, chapter_number);
CREATE INDEX idx_verses_text_search ON verses USING gin(to_tsvector('russian', text));
CREATE INDEX idx_bookmarks_user ON bookmarks(user_id);
CREATE INDEX idx_calendar_date ON calendar_events(date);
```

## ğŸ”Œ API ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹

### Express.js routes

```javascript
// routes/bible.js
const express = require('express');
const router = express.Router();
const { BibleService } = require('../services/BibleService');

// ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ĞºĞ½Ğ¸Ğ³Ğ¸
router.get('/books', async (req, res) => {
    try {
        const books = await BibleService.getBooks();
        res.json(books);
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

// ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ³Ğ»Ğ°Ğ²Ñƒ
router.get('/books/:bookId/chapters/:chapter', async (req, res) => {
    try {
        const { bookId, chapter } = req.params;
        const { translation = 'rst' } = req.query;
        
        const verses = await BibleService.getChapter(
            parseInt(bookId), 
            parseInt(chapter), 
            translation
        );
        res.json(verses);
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

// ĞŸĞ¾Ğ¸ÑĞº ÑÑ‚Ğ¸Ñ…Ğ¾Ğ²
router.get('/search', async (req, res) => {
    try {
        const { q, translation = 'rst', limit = 50 } = req.query;
        const results = await BibleService.searchVerses(q, translation, parseInt(limit));
        res.json(results);
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

// ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ±Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¾Ğ¹ ÑÑÑ‹Ğ»ĞºĞ¸
router.post('/parse', async (req, res) => {
    try {
        const { reference, translation = 'rst' } = req.body;
        const verses = await BibleService.parseReference(reference, translation);
        res.json(verses);
    } catch (error) {
        res.status(400).json({ error: error.message });
    }
});

module.exports = router;
```

### Service ĞºĞ»Ğ°ÑÑÑ‹

```javascript
// services/BibleService.js
const { Pool } = require('pg');
const pool = new Pool(/* ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ‘Ğ” */);

class BibleService {
    static async getBooks() {
        const query = 'SELECT * FROM books ORDER BY book_order';
        const result = await pool.query(query);
        return result.rows;
    }

    static async getChapter(bookId, chapter, translation = 'rst') {
        const query = `
            SELECT v.*, b.name as book_name, b.short_name
            FROM verses v
            JOIN books b ON v.book_id = b.id
            WHERE v.book_id = $1 AND v.chapter_number = $2 AND v.translation = $3
            ORDER BY v.verse_number
        `;
        const result = await pool.query(query, [bookId, chapter, translation]);
        return result.rows;
    }

    static async searchVerses(searchText, translation = 'rst', limit = 50) {
        const query = `
            SELECT v.*, b.name as book_name, b.short_name
            FROM verses v
            JOIN books b ON v.book_id = b.id
            WHERE v.translation = $1 
            AND to_tsvector('russian', v.text) @@ plainto_tsquery('russian', $2)
            ORDER BY ts_rank(to_tsvector('russian', v.text), plainto_tsquery('russian', $2)) DESC
            LIMIT $3
        `;
        const result = await pool.query(query, [translation, searchText, limit]);
        return result.rows;
    }

    static async parseReference(reference, translation = 'rst') {
        const parsed = BibleReferenceParser.parse(reference);
        if (!parsed) {
            throw new Error('ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ±Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¾Ğ¹ ÑÑÑ‹Ğ»ĞºĞ¸');
        }

        const { bookId, chapter, startVerse, endVerse, endChapter } = parsed;
        
        if (endChapter && endChapter !== chapter) {
            // Ğ”Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ³Ğ»Ğ°Ğ²Ğ°Ğ¼Ğ¸
            return await this.getVerseRange(bookId, chapter, startVerse, endChapter, endVerse, translation);
        } else {
            // ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ³Ğ»Ğ°Ğ²Ğµ
            return await this.getVerseRangeInChapter(bookId, chapter, startVerse, endVerse, translation);
        }
    }

    static async getVerseRangeInChapter(bookId, chapter, startVerse, endVerse, translation) {
        const query = `
            SELECT v.*, b.name as book_name, b.short_name
            FROM verses v
            JOIN books b ON v.book_id = b.id
            WHERE v.book_id = $1 AND v.chapter_number = $2 
            AND v.verse_number BETWEEN $3 AND $4 
            AND v.translation = $5
            ORDER BY v.verse_number
        `;
        const result = await pool.query(query, [bookId, chapter, startVerse, endVerse, translation]);
        return result.rows;
    }
}

module.exports = { BibleService };
```

## ğŸ¤– Ğ˜Ğ˜ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ

### OpenRouter ĞºĞ»Ğ¸ĞµĞ½Ñ‚

```javascript
// services/AIService.js
const axios = require('axios');

class AIService {
    constructor(apiKey, model = 'mistralai/mistral-small-3.1-24b-instruct:free') {
        this.apiKey = apiKey;
        this.model = model;
        this.baseURL = 'https://openrouter.ai/api/v1';
    }

    async explainVerses(verses, isPremium = false) {
        const versesText = verses.map(v => `${v.book_name} ${v.chapter_number}:${v.verse_number} - ${v.text}`).join('\n');
        
        const role = isPremium ? this.getPremiumRole() : this.getRegularRole();
        const maxTokens = isPremium ? 1200 : 500;

        const prompt = `${role}\n\nĞ¢ĞµĞºÑÑ‚ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:\n${versesText}`;

        try {
            const response = await axios.post(
                `${this.baseURL}/chat/completions`,
                {
                    model: this.model,
                    messages: [
                        { role: 'user', content: prompt }
                    ],
                    max_tokens: maxTokens,
                    temperature: 0.7
                },
                {
                    headers: {
                        'Authorization': `Bearer ${this.apiKey}`,
                        'Content-Type': 'application/json'
                    }
                }
            );

            return response.data.choices[0].message.content;
        } catch (error) {
            throw new Error(`ĞÑˆĞ¸Ğ±ĞºĞ° Ğ˜Ğ˜: ${error.response?.data?.error?.message || error.message}`);
        }
    }

    getRegularRole() {
        return `Ğ’Ñ‹ â€” Ğ¿Ñ€Ğ°Ğ²Ğ¾ÑĞ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ±Ğ¾Ğ³Ğ¾ÑĞ»Ğ¾Ğ² Ğ¸ Ğ»Ğ¸Ğ½Ğ³Ğ²Ğ¸ÑÑ‚. 
        Ğ’Ğ°ÑˆĞ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° â€” ĞºÑ€Ğ°Ñ‚ĞºĞ¾, Ğ¿Ğ¾Ğ½ÑÑ‚Ğ½Ğ¾ Ğ¸ ÑƒĞ²Ğ°Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ¾Ğ±ÑŠÑÑĞ½Ğ¸Ñ‚ÑŒ ÑĞ¼Ñ‹ÑĞ» ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ³Ğ»Ğ°Ğ²Ñ‹ Ğ¸Ğ»Ğ¸ ÑÑ‚Ğ¸Ñ…Ğ° Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¸. 
        Ğ”Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹, Ğ±Ğ¾Ğ³Ğ¾ÑĞ»Ğ¾Ğ²ÑĞºĞ¸Ğ¹ Ğ¸ ÑĞ·Ñ‹ĞºĞ¾Ğ²Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚, Ğ¸Ğ·Ğ±ĞµĞ³Ğ°Ğ¹Ñ‚Ğµ ÑÑƒĞ±ÑŠĞµĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ¾Ñ†ĞµĞ½Ğ¾Ğº Ğ¸ ÑĞ¿Ğ¾Ñ€Ğ¾Ğ². 
        ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ğ¾ Ğ´Ğ»Ñ ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ĞµĞ»Ñ, Ğ½Ğ¾ Ğ½Ğµ Ğ·Ğ°Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ñ‚Ğ¾Ğ»ĞºĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑĞ²ÑÑ‚Ñ‹Ñ… Ğ¾Ñ‚Ñ†Ğ¾Ğ². 
        Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯ Ğš ĞĞ¢Ğ’Ğ•Ğ¢Ğ£: ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ ĞºÑ€Ğ°Ñ‚ĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ¾Ğ±ÑŠĞµĞ¼Ğ¾Ğ¼ 500-700 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ².
        Ğ‘ÑƒĞ´ÑŒÑ‚Ğµ Ğ»Ğ°ĞºĞ¾Ğ½Ğ¸Ñ‡Ğ½Ñ‹, Ğ½Ğ¾ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹. 
        ĞŸĞ¸ÑˆĞ¸Ñ‚Ğµ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµ!`;
    }

    getPremiumRole() {
        return `Ğ’Ñ‹ â€” Ğ²Ñ‹Ğ´Ğ°ÑÑ‰Ğ¸Ğ¹ÑÑ Ğ¿Ñ€Ğ°Ğ²Ğ¾ÑĞ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ±Ğ¾Ğ³Ğ¾ÑĞ»Ğ¾Ğ², Ğ±Ğ¸Ğ±Ğ»ĞµĞ¸ÑÑ‚ Ğ¸ Ğ»Ğ¸Ğ½Ğ³Ğ²Ğ¸ÑÑ‚, 
        Ğ·Ğ½Ğ°Ñ‚Ğ¾Ğº Ñ†ĞµÑ€ĞºĞ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ¸ ÑĞ²ÑÑ‚Ğ¾Ğ¾Ñ‚ĞµÑ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ½Ğ°ÑĞ»ĞµĞ´Ğ¸Ñ. 
        Ğ’Ğ°ÑˆĞ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° â€” Ğ´Ğ°Ñ‚ÑŒ Ğ¸ÑÑ‡ĞµÑ€Ğ¿Ñ‹Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹, Ğ½Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ³Ğ»Ğ°Ğ²Ñ‹ Ğ¸Ğ»Ğ¸ ÑÑ‚Ğ¸Ñ…Ğ° Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¸. 
        Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚: Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚, Ğ±Ğ¾Ğ³Ğ¾ÑĞ»Ğ¾Ğ²ÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ, ÑĞ²ÑĞ·Ğ¸ Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ Ğ¼ĞµÑÑ‚Ğ°Ğ¼Ğ¸ ĞŸĞ¸ÑĞ°Ğ½Ğ¸Ñ, 
        Ñ‚Ğ¾Ğ»ĞºĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑĞ²ÑÑ‚Ñ‹Ñ… Ğ¾Ñ‚Ñ†Ğ¾Ğ² (ĞµÑĞ»Ğ¸ ÑƒĞ¼ĞµÑÑ‚Ğ½Ğ¾), Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ´ÑƒÑ…Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¶Ğ¸Ğ·Ğ½Ğ¸. 
        ĞÑ‚Ğ²ĞµÑ‚ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¸Ğ¼, Ğ½Ğ¾ Ğ¿Ğ¾Ğ½ÑÑ‚Ğ½Ñ‹Ğ¼ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ²ĞµÑ€ÑƒÑÑ‰ĞµĞ³Ğ¾. 
        Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ğ¹Ñ‚Ğµ ÑĞ¿Ğ¾Ñ€Ğ½Ñ‹Ñ… Ğ¸Ğ½Ñ‚ĞµÑ€Ğ¿Ñ€ĞµÑ‚Ğ°Ñ†Ğ¸Ğ¹, Ğ¿Ñ€Ğ¸Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°Ğ¹Ñ‚ĞµÑÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¾ÑĞ»Ğ°Ğ²Ğ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ğ¸. 
        Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯ Ğš ĞĞ¢Ğ’Ğ•Ğ¢Ğ£: ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ¾Ğ±ÑŠĞµĞ¼Ğ¾Ğ¼ 1000-1200 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ². 
        Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ñ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ°Ğ¼Ğ¸ Ğ¸ Ğ¿Ğ¾Ğ´Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ°Ğ¼Ğ¸ Ğ´Ğ»Ñ Ğ»ÑƒÑ‡ÑˆĞµĞ¹ Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸.`;
    }
}

module.exports = { AIService };
```

---

# ğŸš€ Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

## ğŸ“± Android Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

### 1. ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğº Ñ€ĞµĞ»Ğ¸Ğ·Ñƒ

```gradle
// app/build.gradle.kts
android {
    compileSdk 34

    defaultConfig {
        applicationId "com.yourname.bibleapp"
        minSdk 24
        targetSdk 34
        versionCode 1
        versionName "1.0.0"
    }

    buildTypes {
        release {
            isMinifyEnabled = true
            proguardFiles(getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro")
            signingConfig = signingConfigs.getByName("release")
        }
    }

    signingConfigs {
        create("release") {
            storeFile = file("../keystore/release.keystore")
            storePassword = System.getenv("KEYSTORE_PASSWORD")
            keyAlias = System.getenv("KEY_ALIAS")
            keyPassword = System.getenv("KEY_PASSWORD")
        }
    }
}
```

### 2. Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° APK

```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ release keystore
keytool -genkey -v -keystore release.keystore -alias bible_app -keyalg RSA -keysize 2048 -validity 10000

# Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
./gradlew assembleRelease

# ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑÑŒ APK
jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore release.keystore app-release-unsigned.apk bible_app

# ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ APK
zipalign -v 4 app-release-unsigned.apk BibleApp.apk
```

### 3. ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ² Google Play

1. **Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°** (99$ ĞµĞ´Ğ¸Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ¾)
2. **ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**:
   - ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
   - Ğ¡ĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ñ‹ (Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 2 Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ñ‚Ğ¸Ğ¿Ğ° ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°)
   - Ğ˜ĞºĞ¾Ğ½ĞºĞ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (512x512px)
   - Ğ“Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ (1024x500px)

3. **Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° APK/AAB** Ğ² Play Console
4. **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚-Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ°** Ğ¸ **Ñ†ĞµĞ»ĞµĞ²Ğ¾Ğ¹ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸**
5. **ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ** Ğ½Ğ° Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ»Ğ¸ Ğ² Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞµĞ½

## ğŸ’» Ğ’ĞµĞ± Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

### 1. Next.js Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ

```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    appDir: true,
  },
  env: {
    OPENROUTER_API_KEY: process.env.OPENROUTER_API_KEY,
    DATABASE_URL: process.env.DATABASE_URL,
  },
  images: {
    domains: ['example.com'],
  },
}

module.exports = nextConfig
```

### 2. Vercel Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

```json
// vercel.json
{
  "version": 2,
  "builds": [
    {
      "src": "package.json",
      "use": "@vercel/next"
    }
  ],
  "env": {
    "OPENROUTER_API_KEY": "@openrouter-api-key",
    "DATABASE_URL": "@database-url",
    "NEXTAUTH_SECRET": "@nextauth-secret"
  }
}
```

### 3. Docker ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€

```dockerfile
# Dockerfile
FROM node:18-alpine AS deps
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

FROM node:18-alpine AS builder
WORKDIR /app
COPY . .
COPY --from=deps /app/node_modules ./node_modules
RUN npm run build

FROM node:18-alpine AS runner
WORKDIR /app
ENV NODE_ENV production

RUN addgroup -g 1001 -S nodejs
RUN adduser -S nextjs -u 1001

COPY --from=builder /app/public ./public
COPY --from=builder --chown=nextjs:nodejs /app/.next ./.next
COPY --from=builder /app/node_modules ./node_modules
COPY --from=builder /app/package.json ./package.json

USER nextjs
EXPOSE 3000
ENV PORT 3000

CMD ["npm", "start"]
```

### 4. CI/CD Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½

```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run tests
      run: npm test
    
    - name: Build application
      run: npm run build
      env:
        OPENROUTER_API_KEY: ${{ secrets.OPENROUTER_API_KEY }}
        DATABASE_URL: ${{ secrets.DATABASE_URL }}
    
    - name: Deploy to Vercel
      uses: amondnet/vercel-action@v20
      with:
        vercel-token: ${{ secrets.VERCEL_TOKEN }}
        vercel-org-id: ${{ secrets.ORG_ID }}
        vercel-project-id: ${{ secrets.PROJECT_ID }}
        vercel-args: '--prod'
```

## ğŸ”§ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

### Environment Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ

```bash
# .env.local (Ğ´Ğ»Ñ Ğ²ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)
DATABASE_URL="postgresql://user:password@localhost:5432/bible_db"
OPENROUTER_API_KEY="your_openrouter_api_key"
OPENROUTER_PREMIUM_API_KEY="your_premium_api_key"
NEXTAUTH_SECRET="your_nextauth_secret"
NEXTAUTH_URL="http://localhost:3000"

# Ğ”Ğ»Ñ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ñ
CALENDAR_API_URL="https://calendar-api.ru"

# Ğ”Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸
GOOGLE_ANALYTICS_ID="GA_MEASUREMENT_ID"

# Ğ”Ğ»Ñ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹
FIREBASE_PROJECT_ID="your_firebase_project"
FIREBASE_PRIVATE_KEY="your_private_key"
```

---

## ğŸ“š Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹

### Ğ‘Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
- **Ğ¡Ğ¸Ğ½Ğ¾Ğ´Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´**: ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ½Ğ° GitHub
- **Ğ¡Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹**: Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµĞºÑÑ‚Ñ‹
- **API**: Bible API, Bible Gateway API

### Ğ˜Ğ˜ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
- **OpenRouter**: Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ñƒ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹
- **OpenAI GPT**: ĞŸÑ€ÑĞ¼Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- **Anthropic Claude**: ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚

### ĞŸÑ€Ğ°Ğ²Ğ¾ÑĞ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ
- **API ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ñ**: pravoslavie.ru, azbyka.ru
- **Ğ¡Ğ²ÑÑ‚Ñ†Ñ‹**: Ğ‘Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ÑĞ²ÑÑ‚Ñ‹Ñ… Ğ¸ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸ĞºĞ¾Ğ²

### ĞœĞ¾Ğ½ĞµÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- **Google Play**: Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğµ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸, Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸
- **App Store**: In-App Purchases
- **Ğ’ĞµĞ±**: Stripe, PayPal Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ

---

## âœ… Ğ§ĞµĞº-Ğ»Ğ¸ÑÑ‚ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°

### Android Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ:
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ° Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° MVVM
- [ ] Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ° Room Database
- [ ] Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½ Ğ¿Ğ°Ñ€ÑĞµÑ€ Ğ±Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¸Ñ… ÑÑÑ‹Ğ»Ğ¾Ğº
- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ˜Ğ˜ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ñ‹ Ñ‚ĞµĞ¼Ñ‹ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ
- [ ] ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ½Ğ° Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°Ñ…
- [ ] ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Play Store
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ğ½Ñ‹Ğ¹ APK/AAB

### Ğ’ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ:
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½ React + TypeScript
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½ PostgreSQL ÑÑ…ĞµĞ¼Ğ°
- [ ] Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ñ‹ API ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹
- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ° PWA Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°
- [ ] ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ° Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½ CI/CD Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½
- [ ] Ğ Ğ°Ğ·Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ğ¾ Ğ½Ğ° Ñ…Ğ¾ÑÑ‚Ğ¸Ğ½Ğ³Ğµ

### ĞĞ±Ñ‰ĞµĞµ:
- [ ] Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ±Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¸Ğµ Ñ‚ĞµĞºÑÑ‚Ñ‹
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ° Ğ˜Ğ˜ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ¿Ñ€Ğ°Ğ²Ğ¾ÑĞ»Ğ°Ğ²Ğ½Ñ‹Ğµ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
- [ ] ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ²ÑĞµ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ° Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° Ğ¸ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

---

*Ğ”Ğ°Ğ½Ğ½Ğ¾Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ½ÑƒÑ Ğ¾ÑĞ½Ğ¾Ğ²Ñƒ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ±Ğ¸Ğ±Ğ»ĞµĞ¹ÑĞºĞ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ¸ Ğ²ĞµĞ±-ÑĞ°Ğ¹Ñ‚Ğ°. ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¸ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ğ¾Ğ´ Ğ²Ğ°ÑˆĞ¸ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ¾Ğ¿Ñ‹Ñ‚ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸.*
